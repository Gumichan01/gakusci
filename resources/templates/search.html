<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <link rel="stylesheet" type="text/css" href="/css/search.css">

    <meta charset="UTF-8">
    <title>GakuSci search results - POC</title>
</head>
<body>
<div>
    <h1>Gakusci POC results</h1>

    <form action="/search">
        <input id="query" type="text" name="q" th:value="${query}"/>
        <input id="search" type="submit"/><br>
        <input id="type_all" type="radio" name="stype" value="research" th:checked="${research}"/>
        Research papers/articles
        <input id="type_books" type="radio" name="stype" value="books" th:checked="${books}"/>
        Books
    </form>

    <br>

    <div th:if="${emptyEntries}">
        <p>No document found for <strong th:text="${query}"></strong></p>
    </div>

    <p th:if="${not emptyEntries}" th:text="${numFound + ' results'}"></p>

    <div th:each="entry : ${entries}">
        <p class="entry_label" th:text="${entry.label}"></p>
        <a th:href="${entry.url}" th:text="${entry.url}"></a>
    </div>

    <br>

    <!-- TODO pagination (|<< |< 1 ... 10 >| >>|) -->
    <div th:if="${not emptyEntries}">
        <ul>
            <li th:if="${pstart} >= 0">
                <a th:href="${'/search?q=' + query + '&stype=' + stype + '&start=0'}"> |<< First </a>
            </li>
            <li th:if="${pstart} >= 0 and ${pstart} < ${numFound}">
                <a th:href="${'/search?q=' + query + '&stype=' + stype + '&start=' + pstart}"> |< Previous </a>
            </li>
            <li th:if="${nstart} < ${numFound}">
                <a th:href="${'/search?q=' + query + '&stype=' + stype + '&start=' + nstart}"> Next >| </a>
            </li>
            <li th:if="${nstart} < ${numFound}">
                <a th:href="${'/search?q=' + query + '&stype=' + stype + '&start=' + lastStart}"> Last >>| </a>
            </li>
        </ul>
        <!--<div th:each="num : ${#numbers.sequence(0, 10, 1)}">
            <p th:text="${ num }"></p>
        </div>-->
    </div>

    <script src="/js/search.js"></script>
</div>
</body>
</html>
